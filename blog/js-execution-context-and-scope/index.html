<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="내 블로그 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="내 블로그 Atom Feed"><title data-rh="true">JS 실행 컨텍스트와 스코프 [번역] | 내 블로그</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://feynubrick.github.io/blog/js-execution-context-and-scope"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="JS 실행 컨텍스트와 스코프 [번역] | 내 블로그"><meta data-rh="true" name="description" content="자바스크립트를 배우다 만나게 되는 첫번째 난관. 스코프와 실행 컨텍스트라는 개념이다."><meta data-rh="true" property="og:description" content="자바스크립트를 배우다 만나게 되는 첫번째 난관. 스코프와 실행 컨텍스트라는 개념이다."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2018-12-24T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/feynubrick"><meta data-rh="true" property="article:tag" content="JavaScript"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://feynubrick.github.io/blog/js-execution-context-and-scope"><link data-rh="true" rel="alternate" href="https://feynubrick.github.io/blog/js-execution-context-and-scope" hreflang="ko"><link data-rh="true" rel="alternate" href="https://feynubrick.github.io/en/blog/js-execution-context-and-scope" hreflang="en"><link data-rh="true" rel="alternate" href="https://feynubrick.github.io/blog/js-execution-context-and-scope" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a79bf0ea.css">
<link rel="preload" href="/assets/js/runtime~main.dd0da874.js" as="script">
<link rel="preload" href="/assets/js/main.5cdcae29.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">본문으로 건너뛰기</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">오승윤의 블로그</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/feynubrick" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="최근 블로그 문서 둘러보기"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/js-execution-context-and-scope">JS 실행 컨텍스트와 스코프 [번역]</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">JS 실행 컨텍스트와 스코프 [번역]</h1><div class="container_mt6G margin-vert--md"><time datetime="2018-12-24T00:00:00.000Z" itemprop="datePublished">2018년 12월 24일</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/feynubrick" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/26345285?v=4" alt="오승윤 (Seung-Yoon Oh)"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/feynubrick" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">오승윤 (Seung-Yoon Oh)</span></a></div><small class="avatar__subtitle" itemprop="description">백엔드 웹 개발자</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>자바스크립트를 배우다 만나게 되는 첫번째 난관. 스코프와 실행 컨텍스트라는 개념이다.
이 개념을 더 잘 이해해 보기 위해 검색을 하다가 <a href="https://weeklywebwisdom.com/2017/09/08/javascript-execution-context-and-scope/" target="_blank" rel="noopener noreferrer">좋은 내용이 들어있는 글</a>을 발견했다.
영어로된 글이라서 나 자신에게 도움이 될까 해서 공부하는 겸 번역을 해봤다.
이 과정에서 내용을 이해하려해보니 실행 컨텍스트와 스코프에 대해 조금 더 잘 이해할 수 있게 되었다.</p><p>필자는 영어를 잘하는 것은 아니라 읽으면서 매끄럽지 않고, 더 심각하게는 잘못 번역한 내용이 있을 수도 있으니, 원문을 주로 읽으시고 이 조잡한 번역글은 참고만 하시는 것을 추천드린다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="실행-컨텍스트와-스코프에-대해-뭘-알고-있나요">실행 컨텍스트와 스코프에 대해 뭘 알고 있나요?<a class="hash-link" href="#실행-컨텍스트와-스코프에-대해-뭘-알고-있나요" title="제목으로 바로 가기">​</a></h2><p>시작하기 전에, 재밌는 예제를 풀고 시작해보자. 아래의 코드를 보자. 그리고 아래로 스크롤을 내리지 않고, 표시된 6개 줄 각각에서 프로그램이 어떤 것을 출력할지 예상해보라.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> myString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;I&#x27;m outside&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> myString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;I&#x27;m in function&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">++</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> myString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;I&#x27;m in for&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>그럼 결과를 확인하자.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. &quot;I&#x27;m outside&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. &quot;I&#x27;m in function&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. &quot;I&#x27;m in for&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. &quot;I&#x27;m in for&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. &quot;I&#x27;m outside&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>확실히 자바스크립트는 지루할 틈이 없다. 당신은 진정한 컨텍스트의 달인이라 이 글에 나온 내용은 식은 죽 먹기일 것이다. 만점을 받았다면 말이다. 아니라면, 틀린 번호를 기억해두시라. 나중에 설명하면서 이 번호들을 다시한번 찾게될 것이다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="실행-컨텍스트execution-context">실행 컨텍스트(execution context)<a class="hash-link" href="#실행-컨텍스트execution-context" title="제목으로 바로 가기">​</a></h2><p>실행 컨텍스트(execution context)는 기본적으로 코드가 실행되는 환경이다. 어떤 순간에든 활성화된 실행 컨텍스트는 다음 중 하나가 될 수 있다.</p><ul><li>global code: 가장 바깥. 이 컨텍스트를 나타내는 객체는 어떤 호스트 환경이냐에 따라 달라진다. 브라우저에서 global scope는 <code>window</code> 객체로 나타내진다.</li><li>function code: 각각의 함수 호출은 자신의 실행 컨텍스트를 갖는다. 글로벌 코드 또는 다른 함수 안에서 함수가 호출될 때마다 새 컨텍스트가 만들어진다.</li><li>eval code: <code>eval()</code> 명령을 실행시키면 새 실행 컨텍스트를 만든다. <code>eval()</code>을 사용하는 것은 보통 추천하지 않는다. 성능과 발생할 수 있는 보안의 여러 문제 때문이다. 따라서 이 글에서는 다루지 않는다.</li></ul><p>모든 실행 컨텍스트는 이에 속하는 모든 변수와 함수가 들어있는 변수 객체와 관련되어 있다. 이 변수 객체는 코드에서 접근할 수는 없지만 데이터를 다루는 뒷단에서 사용된다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="자바스크립트의-실행-흐름context-flow">자바스크립트의 실행 흐름(context flow)<a class="hash-link" href="#자바스크립트의-실행-흐름context-flow" title="제목으로 바로 가기">​</a></h2><p>자바스크립트의 실행 흐름은 스택(stack)같다. 스택에 가장 바닥에는 항상 글로벌 컨텍스트가 있다. 이 글로벌 컨텍스트는 프로그램이 끝날 때만 파괴된다.</p><p>새로운 함수가 호출될 때마다, 새로운 컨텍스트가 만들어지고 스택의 제일 위에 놓여진다. 어떤 시점에서든, 스택 안에는 호출되었지만 아직 실행이 완료되지 않은 함수가 있을 것이다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">printer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">printer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">printer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이 코드가 실행되면 실행 흐름은 어떻게 보일까?</p><ul><li>프로그램이 시작하고 <code>main(2)</code> 함수를 호출하기 전에 우리는 달랑 글로벌 컨텍스트 하나만 스택에 갖고 있다.</li><li><code>main(2)</code>를 호출하면, 또 다른 컨텍스트가 제일 위에 놓이게 된다.</li><li><code>main</code> 함수 안에서, <code>printer</code> 함수를 호출했다. 따라서 새로운 컨텍스트가 스택의 제일 위에 간다.</li><li><code>printer</code> 함수 안에 들어갔다. <code>index</code>가 2이기 때문에 if를 지나치고 <code>printer</code>의 또 다른 호출을 찾는다. 또 다른 컨텍스트가 생성된다.</li><li><blockquote><p>!!! 새로운 컨텍스트는 함수가 자기 자신을 호출해도 생성된다. 왜냐하면 컨텍스트는 함수 호출과 연결된 것이지 함수 그 자체와 연결된 것은 아니기 때문이다.</p></blockquote></li><li>이번에 호출되는 <code>printer</code> 함수는 <code>index</code>로 <code>1</code>을 갖고 있다. 따라서 이 새 컨텍스트에서 <code>index</code>는 <code>1</code>이 될 것이다.</li><li><code>printer</code>를 다시 <code>index</code> 를 <code>0</code>으로 해서 호출한다. 새로운 컨텍스트가 만들어진다.</li><li>이번에는, <code>if (index === 0)</code> 문 안에서 함수가 반환한다. 따라서 스택에서 가장 마지막 항목이 빠진다.</li><li><code>index</code>가 <code>1</code>인 <code>printer</code>함수로 돌아가고 <code>index</code>가 출력된다.</li><li>이 함수에서도 실행이 종료되었으므로 이 컨텍스트는 빠진다.</li><li>이제 <code>printer</code> 함수의 <code>index = 2</code>인 첫번째 호출에 있다.</li><li><code>2</code>가 출력되고 함수가 끝난다. <code>main</code>으로 돌아간다.</li><li><code>main</code>으로 부터 <code>index</code>의 값인 2를 출력하고 호출을 끝낸다.</li><li><code>main</code>을 완료하고 나서 달랑 글로벌 실행 컨텍스트 하나만 남는다. 프로그램 자체가 종료되면 이것도 스택에서 빠지게된다.</li></ul><p>함수가 <code>var</code>를 사용해 선언되었을 때는 가능한 가장 가까운 시간에 만들어진 컨텍스트에 추가된다. 함수 안에서, 그건 함수의 지역(local) 컨텍스트가 될 것이다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="블록-수준block-level의-컨텍스트는-없다">블록 수준(block level)의 컨텍스트는 없다<a class="hash-link" href="#블록-수준block-level의-컨텍스트는-없다" title="제목으로 바로 가기">​</a></h2><p>실행 컨텍스트를 생각할 때 발생하는 혼란의 주 근원지 중 하나는 자바스크립트에 블록 수준의 실행 컨텍스트가 없다는 것이다. 예를 들어, C++, Java, C# 같은 다른 주류 언어에서, for 문 (또는 while이나 다른 블록) 안에 변수를 선언하면, 그 변수를 블록이 끝나고 나서는 접근할 수 없다(그 블록의 스코프에 속해있기 때문). 이런 일은 자바스크립트에서는 일어나지 않는다. 따라서 위 예제의 (5)번이 헷갈릴 수 있다.</p><p>EcmaScript2015에서 블록 안에서만 보이는 변수를 선언하는 키워드 <code>let</code>이 소개되었다. <code>let</code>에 의해 선언된 변수는 자신이 정의된 블록을 자신의 스코프로 갖는다. 이는 포함된 하위 블록들(sub-blocks)에서도 적용된다. 이 방법으로, <code>let</code>은 <code>var</code>와 아주 비슷하게 작동한다. 가장 큰 차이는 <code>var</code> 변수의 스코프는 이 변수를 담고 있는 함수 전체라는 것이다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">varTest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// same variable!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">letTest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// different variable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="변수-스코프variable-scope">변수 스코프(variable scope)<a class="hash-link" href="#변수-스코프variable-scope" title="제목으로 바로 가기">​</a></h2><p>스코프는 변수의 접근가능여부(보이는지 아닌지)를 결정한다. 자바스크립트에는 2개 유형의 스코프가 있다.</p><ul><li>전역: 코드의 바깥쪽</li><li>지역: 함수의 안쪽</li></ul><p>함수가 호출될 때마다, 새로운 스코프가 만들어진다. 지역 변수들은 <strong>지역 스코프</strong>를 갖는다. 즉, 이것들은 함수 안에서만 접근 가능하다.</p><p>변수가 <code>var</code>를 사용해서 선언될 때는 자동으로 가장 가까운 스코프에 더해진다. 함수에서는 가장 가까운 것은 함수의 지역 컨텍스트일 것이다. 지역 변수들은 그 함수 내에서만 인식되기 때문에, 같은 이름을 가진 변수들은 다른 함수들에서 사용될 수 있다.</p><p>각 함수는 자신의 스코프를 갖는다. 그리고 함수 내에서 선언된 모든 변수는 그 함수 내에서만 접근 가능하다. 하지만 전역 변수는 함수 안에서 사용될 수 있다. 그 함수 안에서 같은 식별자를 갖는 또다른 변수가 있지 않다면 말이다.</p><p>하지만 함수 안에 또 함수가 있는 경우에는 어떤 일이 일어날까? 다음의 예를 보자.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> global </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> mainVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> mainVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">nested</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> nestedVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nestedVariable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mainVariable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">global</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">nested</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이 프로그램을 실행하면, 순서대로 3, 2, 1을 출력할 것이다. 함수 안 함수 구조는 <code>global</code> 변수와 <code>main</code>함수 안의 <code>mainVariable</code> 변수에 접근할 수 있는 것을 볼 수 있다. 심지어 이 둘이 같은 컨텍스트에 속하지도 않는데 말이다. 어떻게 이것이 가능한가? 그 답은 스코프 체인(scope chain)이다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="스코프-체인scope-chain">스코프 체인(scope chain)<a class="hash-link" href="#스코프-체인scope-chain" title="제목으로 바로 가기">​</a></h2><p>코드가 컨텍스트 안에서 실행될 때, 변수의 스코프 체인이 만들어진다. 스코프 체인의 목적은 실행 컨텍스트가 접근할 수 있는 모든 변수와 함수에 정돈된 방식으로 접근하는 것이다. 스코프 체인의 맨 앞은 항상 코드가 실행 중인 컨텍스트의 변수 객체다. 스코프 체인의 맨 뒤에는 항상 전역 스코프(모두가 접근 가능한)가 있다.</p><p>이 예제에서, <code>console.log</code> 문에 다다르면, 우리는 다음의 스코프체인을 갖는다.</p><blockquote><p>전역 스코프 -&gt; <code>main()</code> 함수 스코프 -&gt; <code>nested()</code> 함수 스코프</p></blockquote><p><code>nested</code> 함수 안에서 우리는 <code>main()</code>부터 전역까지 모든 변수에 접근이 가능하다. 하지만, 반대 방향으로는 안된다. <code>main</code>은 <code>nested</code> 안쪽의 변수를 볼 수 없다. 이건 매우 강력한 기능이다.</p><p>식별자(identifier)를 만날 때마다, 이것을 블록 체인 전체 안에서 자바스크립트 엔진이 찾는다. 이 과정을 변수 찾아보기(variable lookup)라 부른다. 이것을 위의 예제를 실전 삼아 살펴보자.</p><ul><li><code>console.log(nestedVariable)</code><ul><li>자바스크립트 엔진이 식별자 <code>nestedVariable</code>을 <code>nested()</code> 함수 스코프에서 먼저 찾는다.</li></ul></li><li><code>console.log(mainVariable)</code><ul><li><code>mainVariable</code> 이름을 <code>nested()</code> 스코프에서 찾는다. 아무것도 없다.</li><li>체인에서 다음 스코프인 <code>main()</code> 스코프에서 찾는다. 여기 있다.</li></ul></li></ul><p>아마 당신은 여기서 이 블록 체인에 <code>mainVariable</code>이라는 이름을 갖는 또 다른 변수가 있다는 것을 알아챘을 것이다.</p><blockquote><p>!!! 변수 찾아보기는 첫번째 식별자를 찾으면 종료한다. 만약 전역변수와 이름이 같은 변수를 지역적으로 선언하면, 당신은 전역변수에 대한 접근을 잃을 것이다.</p></blockquote><ul><li><code>console.log(globalVariable)</code><ul><li><code>nested()</code> 스코프 내에서 식별자를 찾지 못함</li><li><code>main()</code> 스코프 내에서 식별자를 찾지 못함</li><li>전역 스코프에서 식별자를 찾음</li></ul></li></ul><p>자바스크립트 엔진이 스코프 체인의 끝에 도달하고 맞는 이름을 찾지 못하면, <code>undefined</code>를 반환한다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="변수-호스팅">변수 호스팅<a class="hash-link" href="#변수-호스팅" title="제목으로 바로 가기">​</a></h2><p>이 글의 첫번째 예제로 돌아가보자. (2)번이라 표시된 print에서 무슨 일이 일어나는가?</p><p>이 변수는 전역으로 선언되고 한 줄 아래 함수 안에서 다시 선언된다. 하지만, 결과는 <code>undefined</code>다.</p><p>짧게 답하면, 변수 호스팅 때문이다. 전에 이미 말했지만, <code>var</code>로 함수 안에 변수를 하나 선언하면, 이것은 지역 스코프에 붙고 더이상 같은 이름의 전역 변수에는 접근할 수 없다.</p><p>호스팅은 모든 선언을 현재 스코프 제일 위(현재 스크립트 또는 현재 함수의 제일 위)에 옮기는 자바스크립트의 기본 행동이다. 따라서 우리가 함수 안쪽 어느 곳에서 변수를 선언했는지는 상관없고, 이 변수는 실행 컨텍스트 시작부터 이 함수 스코프에 속한다.</p><p>하지만, 자바스크립트는 초기화가 아니라, 오로지 선언만 끌어올린다(hoisting). 그래서 명시적으로 이 변수에 값을 추가하지 않을 때까지, 이 값은 <code>undefined</code>가 된다.</p><p>이 예제에서, 우리는 함수 <code>f()</code>의 첫번째 줄에서 <code>myString</code>을 사용한다. <code>myString</code>이 끌어올려진걸 아니까, 이 변수는 <code>f()</code> 스코프에 속한다. 변수 찾아보기에서, 식별자를 거기서 찾는다. 명시적인 값이 거기에 더해지지 않았기 때문에, 이 값은 여전히 <code>undefined</code>다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" href="#결론" title="제목으로 바로 가기">​</a></h2><p>이게 다다. 우리는 이 여정의 첫번째 진짜 도전을 통과했다.</p><p>나는 많은 개발자들이 자바스크립트가 이상하고 예측불가라고 불평하는 것을 알고있다. 이건 그들이 자바스크립트가 다른 언어들(특히 자바)과 정확히 같은 방식으로 행동하리라고 생각하기 때문이다. 이들 사이에는 어떤 핵심적인 차이가 있고 우리가 이 글에서 이야기한 것은 그중 하나다. 당신이 이런 핵심 개념들을 이해하고 나면, 나머지는 누워서 떡먹기다.</p><p>이제 첫번째 예를 살펴보자. 이제는 여기나온 말들이 이해될 것이다.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. &quot;I&#x27;m outside&quot;  // variable from global scope</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. undefined  // hoisted local variable from function scope</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              // the value is not added yet, so it&#x27;s undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. &quot;I&#x27;m in function&quot; // same variable as above, but this time a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     // value was explicitly added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. &quot;I&#x27;m in for&quot; // same local variable, initialized again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. &quot;I&#x27;m in for&quot; // since we don&#x27;t have block level scope, the same</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // local variable is printed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. &quot;I&#x27;m outside&quot; // the variable from the global scope again (like 1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Further reading:</p><ul><li>scotch.io: <a href="https://scotch.io/tutorials/understanding-scope-in-javascript" target="_blank" rel="noopener noreferrer">자바스크립트 스코프 이해하기</a></li><li>ryanmorr.com: <a href="http://ryanmorr.com/understanding-scope-and-context-in-javascript/" target="_blank" rel="noopener noreferrer">자바스크립트 스코프와 컨텍스트 이해하기</a></li><li>Javascriptissexy.com: <a href="http://javascriptissexy.com/javascript-variable-scope-and-hoisting-explained/" target="_blank" rel="noopener noreferrer">변수 스코프와 끌어올리기 설명하기</a></li></ul></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>태그:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/java-script">JavaScript</a></li></ul></div></footer></article></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#실행-컨텍스트와-스코프에-대해-뭘-알고-있나요" class="table-of-contents__link toc-highlight">실행 컨텍스트와 스코프에 대해 뭘 알고 있나요?</a></li><li><a href="#실행-컨텍스트execution-context" class="table-of-contents__link toc-highlight">실행 컨텍스트(execution context)</a></li><li><a href="#자바스크립트의-실행-흐름context-flow" class="table-of-contents__link toc-highlight">자바스크립트의 실행 흐름(context flow)</a></li><li><a href="#블록-수준block-level의-컨텍스트는-없다" class="table-of-contents__link toc-highlight">블록 수준(block level)의 컨텍스트는 없다</a></li><li><a href="#변수-스코프variable-scope" class="table-of-contents__link toc-highlight">변수 스코프(variable scope)</a></li><li><a href="#스코프-체인scope-chain" class="table-of-contents__link toc-highlight">스코프 체인(scope chain)</a></li><li><a href="#변수-호스팅" class="table-of-contents__link toc-highlight">변수 호스팅</a></li><li><a href="#결론" class="table-of-contents__link toc-highlight">결론</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dd0da874.js"></script>
<script src="/assets/js/main.5cdcae29.js"></script>
</body>
</html>